<html>

<head>
    <meta charset="UTF-8">
    <!-- Load TensorFlow.js -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <!-- Load Posenet -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/posenet"></script>
</head>

<body>
    <h1> Results 
       
    </h1>
    <div>  Height is :  <span id="sum"></span>
        Size is : <span id="size"></span></div>
   
    <img id='cat' src=' http://127.0.0.1:8081/frontf.PNG' crossorigin="anonymous" />
  
    
    
</body>
<!-- Place your code in the script tag below. You can also use an external .js file -->
<script>
    function sqr(a) {
    return a*a;
}
    function Distance(x1, y1, x2, y2) {
    return Math.sqrt(sqr(y2 - y1) + sqr(x2 - x1));
}
let poses=[]
    var flipHorizontal = false;

    var imageElement = document.getElementById('cat');

    imageElement.crossOrigin = "Anonymous";

    posenet.load().then(function (net) {
        const pose = net.estimateSinglePose(imageElement, {
            flipHorizontal: true
        });
        poses = pose
        return pose;
    }).then(function (pose) {
        console.log(pose);
        let eyeR = pose.keypoints[2].position;
        let eyeL = pose.keypoints[1].position;
        let rightHip = pose.keypoints[11].position;
        let leftHip = pose.keypoints[12].position;
        let rightShoulder = pose.keypoints[6].position;
        let rightAnkle = pose.keypoints[16].position;
        let d = Distance(eyeR.x ,eyeR.y , eyeL.x ,eyeL.y)
        console.log(d)
        let width=Distance(rightHip.x - 1.25 * d, rightHip.y - 1.25 * d,leftHip.x + 1.25 * d, leftHip.y - 1.25 * d)/d *6
        console.log( "size",width)
        let height=((Distance(rightShoulder.y - 1.25 * d, rightShoulder.y - 1.25 * d,rightHip.x - d, rightHip.y) )+
      (Distance(rightHip.x,rightHip.y,rightAnkle.x,rightAnkle.y))+Distance(rightShoulder.x,rightShoulder.y,eyeR.x,eyeR.y))/d*6
      console.log("height",height)
      document.getElementById("sum").innerHTML=height;
      document.getElementById("size").innerHTML=width;
      
    })
</script>

</html>